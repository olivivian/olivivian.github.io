---
title: å°ç¨‹åºå¼•å…¥vant-Weappä¿å§†çº§æ•™ç¨‹åŠå®‰è£…è¿‡ç¨‹çš„é—®é¢˜è§£å†³
date: 2021-09-25
tags: æ’ä»¶
categories: å‰ç«¯
img: https://imgstorage-1313684358.cos.ap-nanjing.myqcloud.com/hexo/6.jpg
summary: vant-Weappä½¿ç”¨æ•™ç¨‹
---

å½“ä½ æƒ³åœ¨å°ç¨‹åºé‡Œå¼•å…¥vantæ—¶ï¼Œç¬¬ä¸€æ­¥ï¼šæ‰“å¼€[å®˜æ–¹æ–‡æ¡£](https://vant-contrib.gitee.io/vant-weapp/#/home)ï¼Œç¬¬äºŒæ­¥ï¼šåˆ‡åˆ°å¿«é€Ÿä¸Šæ‰‹ï¼Œç„¶åå¼€å§‹æ­¥éª¤ä¸€ã€æ­¥éª¤äºŒã€æ­¥éª¤ä¸‰ï¼Ÿ

![image-20210925093852009](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925093852009.png)

ä½ åªä¼šçœ‹åˆ°

![image-20210925094920494](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925094920494.png)



--------------------------ä»¥ä¸‹æ˜¯æ­£æ–‡-------------------------

*å¦‚æœæ­£å‡†å¤‡å®‰è£…ï¼Œå¯ä»¥ç›´æ¥è·³åˆ°ä¸‹é¢çš„ã€æ­£ç¡®çš„å®‰è£…å§¿åŠ¿ã€‘ä¸€æ­¥ä¸€æ­¥èµ°ï¼Œå°±ä¸ä¼šå‡ºç°é—®é¢˜å•¦ï¼*

# é—®é¢˜æ±‡æ€»

å¯èƒ½å‡ºç°çš„ä¸€äº›é—®é¢˜æ±‡æ€»

## é—®é¢˜ä¸€ï¼šæ„å»ºnpmï¼Œæç¤ºæ‰¾ä¸åˆ°package.jsonæ–‡ä»¶

æŒ‰å®˜ç½‘ï¼Œæ­¥éª¤ä¸€ï¼Œé€šè¿‡npmå®‰è£…ï¼Œè¿™ä¸ªæ—¶å€™è¿˜æ²¡é—®é¢˜ï¼Œä½†æ˜¯å½“ä½ åˆ°ç¬¬å››æ­¥ç‚¹å‡»ã€æ„å»ºnpmã€‘æ—¶ï¼Œå°±å¯èƒ½å‡ºç°

![image-20210925104011474](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925104011474.png)

æ‰€ä»¥åœ¨npmå®‰è£…æ—¶ï¼Œå…ˆç¡®ä¿package.jsonå­˜åœ¨ï¼Œä¸å­˜åœ¨çš„è¯å…ˆ`npm init`åˆå§‹åŒ–ä¸€ä¸‹é¡¹ç›®ã€‚æ–°å»ºå°ç¨‹åºï¼Œé»˜è®¤æ˜¯æ²¡æœ‰package.jsonæ–‡ä»¶çš„ï¼ˆå—¯åæ­£æˆ‘çš„æ²¡æœ‰ğŸ¤”ï¼‰





## é—®é¢˜äºŒï¼šæ„å»ºnpmï¼Œæœªæ‰¾åˆ°miniprogramæ–‡ä»¶

æœ‰package.jsonæ–‡ä»¶ä¹‹åï¼Œå†æ¬¡ç‚¹å‡»ã€æ„å»ºnpmã€‘ï¼Œåˆæç¤º

![image-20210925104048843](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925104048843.png)



å¦‚æœå‡ºç°æœªæ‰¾åˆ°miniprogramçš„æƒ…å†µï¼Œåˆ™è‡ªè¡Œåœ¨æ ¹ç›®å½•åˆ›å»ºminiprogramè§£å†³è¿™ä¸ªé—®é¢˜ã€‚



## é—®é¢˜ä¸‰ï¼šæ„å»ºnpmæˆåŠŸï¼Œä½†æ˜¯miniprogramé‡Œæ²¡ä¸œè¥¿



![image-20210925113320459](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925113320459.png)

å¦‚æœæ˜¯å…ˆnpmå®‰è£…äº†ï¼Œå‘ç°æ²¡æœ‰package.jsonå†è¿›è¡Œåˆ›å»ºçš„è¯ï¼Œpackage.jsoné‡Œå¹¶æ²¡æœ‰ä½ çš„ä¾èµ–ä¿¡æ¯ï¼Œæ‰€ä»¥æ„å»ºä¸ºç©ºã€‚

![image-20210925105444951](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925105444951.png)



é‡æ–°æ‰§è¡Œ`npm i @vant/weapp -S --production`ï¼Œåœ¨ç‚¹å‡»æ„å»ºå³å¯

![image-20210925113410473](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925113410473.png)







## é—®é¢˜å››ï¼šå¼•å…¥æŠ¥é”™

ä»¥ä¸ºç»ˆäºå®‰è£…å®Œå¯ä»¥å¼€å§‹ç”¨äº†ï¼Œä½†æ˜¯.....è¿˜æ˜¯æŠ¥é”™ï¼ï¼ï¼

![image-20210925101654057](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925101654057.png)



æŒ‰ç…§å¿«é€Ÿä¸Šæ‰‹çš„æ–¹æ³•å¼•å…¥ç»„ä»¶æ—¶ï¼Œä¼šå‡ºç°æ­¤è·¯å¾„é”™è¯¯



![image-20210901143347733](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/01/image-20210901143347733.png)

å®˜ç½‘æ˜¯è¿™æ ·

![image-20210925101957491](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925101957491.png)

æˆ‘ä»¬éœ€è¦æ”¹æˆ

```
"usingComponents": {
	"van-button": "/miniprogram/miniprogram_npm/@vant/weapp/button/index"
}
```

å¥½äº†ï¼Œç»ˆäºç”¨ä¸Šäº†ã€‚

![image-20210925105808938](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925105808938.png)





#  æ­£ç¡®çš„å®‰è£…å§¿åŠ¿

æˆ‘ä»¬æ ¹æ®ä»¥ä¸Šé”™è¯¯åˆ†æï¼Œç»“åˆå®˜ç½‘æ­¥éª¤ï¼Œæ¥è§£é”æ­£ç¡®çš„å®‰è£…å§¿åŠ¿

![image-20210925110006061](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925110006061.png)



## ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºå°ç¨‹åº

![image-20210925110213893](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925110213893.png)



å½“å‰çš„ç›®å½•æ–‡ä»¶æ˜¯è¿™æ ·çš„

![image-20210925110325999](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925110325999.png)



## ç¬¬äºŒæ­¥ï¼šå…ˆæ‰§è¡Œ

```
npm init
```

ç”Ÿæˆpackage.jsonæ–‡ä»¶ï¼Œæˆ‘åšæµ‹è¯•ï¼Œå°±ç›´æ¥ä¸€ç›´å›è½¦äº†ï¼Œè¿™ä¸ªå¯æ ¹æ®è‡ªå·±éœ€æ±‚é…ç½®

![image-20210925110615636](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925110615636.png)



## ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡npmå®‰è£…ï¼ˆå®˜ç½‘æ­¥éª¤ä¸€ï¼‰

```
npm i @vant/weapp -S --production
```

![image-20210925110705708](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925110705708.png)

## ç¬¬å››æ­¥ï¼š ä¿®æ”¹ app.jsonï¼ˆå®˜ç½‘æ­¥éª¤äºŒï¼‰

å°† app.json ä¸­çš„ `"style": "v2"` å»é™¤ï¼Œå°ç¨‹åºçš„[æ–°ç‰ˆåŸºç¡€ç»„ä»¶](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#style)å¼ºè¡ŒåŠ ä¸Šäº†è®¸å¤šæ ·å¼ï¼Œéš¾ä»¥è¦†ç›–ï¼Œä¸å…³é—­å°†é€ æˆéƒ¨åˆ†ç»„ä»¶æ ·å¼æ··ä¹±ã€‚

![image-20210925110805809](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925110805809.png)

## ç¬¬äº”æ­¥ï¼šä¿®æ”¹ project.config.jsonï¼ˆå®˜ç½‘æ­¥éª¤ä¸‰ï¼‰

å¼€å‘è€…å·¥å…·åˆ›å»ºçš„é¡¹ç›®ï¼Œ`miniprogramRoot` é»˜è®¤ä¸º `miniprogram`ï¼Œ`package.json` åœ¨å…¶å¤–éƒ¨ï¼Œnpm æ„å»ºæ— æ³•æ­£å¸¸å·¥ä½œã€‚

éœ€è¦æ‰‹åŠ¨åœ¨ `project.config.json` å†…æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œä½¿å¼€å‘è€…å·¥å…·å¯ä»¥æ­£ç¡®ç´¢å¼•åˆ° npm ä¾èµ–çš„ä½ç½®ã€‚

```
{
  ...
  "setting": {
    ...
    "packNpmManually": true,
    "packNpmRelationList": [
      {
        "packageJsonPath": "./package.json",
        "miniprogramNpmDistDir": "./miniprogram/"
      }
    ]
  }
}
```

![image-20210925111000290](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925111000290.png)





>æ³¨æ„ï¼š ç”±äºç›®å‰æ–°ç‰ˆå¼€å‘è€…å·¥å…·åˆ›å»ºçš„å°ç¨‹åºç›®å½•æ–‡ä»¶ç»“æ„é—®é¢˜ï¼Œnpmæ„å»ºçš„æ–‡ä»¶ç›®å½•ä¸ºminiprogram_npmï¼Œå¹¶ä¸”å¼€å‘å·¥å…·ä¼šé»˜è®¤åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºminiprogram_npmçš„æ–‡ä»¶åï¼Œæ‰€ä»¥æ–°ç‰ˆæœ¬çš„miniprogramNpmDistDiré…ç½®ä¸º'./'å³å¯

## ç¬¬å…­æ­¥ï¼šåœ¨æ ¹ç›®å½•æ–°å¢miniprogramæ–‡ä»¶å¤¹

![image-20210925111128059](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925111128059.png)



## ç¬¬ä¸ƒæ­¥ï¼šæ„å»ºnpmåŒ…ï¼ˆå®˜ç½‘æ­¥éª¤å››ï¼‰

![image-20210925111246836](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925111246836.png)





![image-20210925111428355](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925111428355.png)



æ„å»ºå®Œæˆä¹‹åï¼Œä½ ä¼šåœ¨miniprogramæ–‡ä»¶çœ‹åˆ°vantçš„æ–‡ä»¶å¤¹ï¼Œè¿™æ ·ä»£è¡¨å®‰è£…æˆåŠŸï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨äº†ã€‚

![image-20210925111346825](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925111346825.png)





## ç¬¬å…«æ­¥ï¼šå¼•å…¥ä½¿ç”¨

åœ¨`app.json`æˆ–`index.json`ä¸­å¼•å…¥ç»„ä»¶

```
"usingComponents": {
  "van-button": "/miniprogram/miniprogram_npm/@vant/weapp/button/index"
}
```

![image-20210925111644625](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925111644625.png)



ç„¶ååœ¨wxmlå°±å¯ä»¥å¼€å§‹ä½¿ç”¨äº†

![image-20210925111749950](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925111749950.png)



# ç»“è¯­
å¦‚æœç°åœ¨ä¸éœ€è¦ä½¿ç”¨é‚£å°±èµ¶ç´§æ”¶è—ä¸€ä¸‹ï¼Œä¸‡ä¸€ä¹‹åå°±è¦ç”¨äº†å‘¢ï¼



![image-20210925113935763](https://gitee.com/Olivivian/PicGoImages/raw/master/img//Typora/typora-user-images/2021/09/25/image-20210925113935763.png)
